# План: Тематические иконки вместо точек в canvas-анимации

## Контекст

Фоновые частицы в canvas-анимации сейчас — крошечные точки (0.4–2.2px). Нужно:
1. **Увеличить размер** частиц, чтобы они были заметны
2. **Заменить точки на тематические иконки** — файлы, шестерёнки, код и т.д., связанные с услугами компании
3. **Несколько типов иконок** для визуального разнообразия
4. **Добавить золотой** как третий цвет частиц (15%)

**Файл:** `C:\Courses\docs\index.html` (строки ~1228-1304, ~1357)

---

## 1. Новые константы (после строки ~1234)

```
ICON_BASE_SIZE  = 6 (desktop) / 5 (mobile)   — базовый радиус в px
ICON_SIZE_VAR   = 3 (desktop) / 2 (mobile)   — случайная вариация
ICON_STROKE_W   = 1.2                         — толщина обводки
ICON_GLOW_EXTRA = 4                           — доп. радиус для ореола
```

Итоговый размер частиц: **6–9px** (desktop), **5–7px** (mobile) — вместо 0.4–2.2px.

---

## 2. Шесть иконок (Path2D, нормализованные -1..+1)

| # | Иконка | Форма | Отношение к компании |
|---|--------|-------|---------------------|
| 1 | **Документ** | Прямоугольник с загнутым углом | Документация, академические работы |
| 2 | **Шестерёнка** | Круг с 6 зубцами + отверстие | Разработка, инженерия |
| 3 | **Код `< >`** | Две угловые скобки | Веб/мобильная разработка |
| 4 | **Лампочка** | Колба + основание | Консалтинг, стратегия, идеи |
| 5 | **Графики** | 3 столбца разной высоты + базовая линия | Маркетинговые исследования |
| 6 | **Лупа** | Круг + диагональная ручка | Исследования, аналитика |

Все иконки — **обводка** (stroke), не заливка. Тонкие контуры выглядят элегантно и не перетягивают внимание.

Реализация: IIFE `buildIconPaths()` создаёт массив `ICON_PATHS[]` из 6 элементов `Path2D`. Создаётся один раз при загрузке.

---

## 3. Изменения в `Particle.reset()`

- `this.size` = `Math.random() * ICON_SIZE_VAR + ICON_BASE_SIZE` (6–9px вместо 0.4–2.2)
- `this.opacity` = `Math.random() * .3 + .1` (0.10–0.40, чуть ниже — крупные иконки должны быть более прозрачными)
- `this.color` — **три цвета**: 45% синий, 40% фиолетовый, **15% золотой** (`212,168,83`)
- `this.iconType` = случайный индекс 0–5 из `ICON_PATHS`
- `this.rotation` = случайный угол поворота (визуальное разнообразие)
- `this.rotSpeed` = ±0.003 рад/кадр (очень медленное вращение, полный оборот за ~35 сек)

---

## 4. Изменения в `Particle.update()`

Одна новая строка: `this.rotation += this.rotSpeed;`

---

## 5. Перезапись `Particle.draw()`

```
1. Ореол — ctx.arc() с радиусом sz + ICON_GLOW_EXTRA, opacity * 0.08
2. ctx.save()
3. ctx.translate(x, y) → rotate(rotation) → scale(sz, sz)
4. ctx.strokeStyle = rgba(color, opacity * pulse)
5. ctx.lineWidth = ICON_STROKE_W / sz  (компенсация масштаба)
6. ctx.lineCap = ctx.lineJoin = 'round'
7. ctx.stroke(ICON_PATHS[iconType])
8. ctx.restore()
```

Ключевой трюк: `lineWidth = ICON_STROKE_W / sz` — толщина обводки визуально постоянна при любом масштабе/пульсации.

---

## 6. Уменьшение кол-ва частиц

`initParticles()`: делитель 16000 → **22000**, потолок 90 → **60**, iOS 40 → **30**.

Крупные иконки требуют больше пространства. 60 частиц при 6–9px визуально плотнее, чем 90 при 0.4–2.2px.

---

## Что НЕ меняется

- `Particle.update()` (кроме добавления одной строки `rotation`)
- Класс `Connection` — молнии привязаны к `particle.x/y`, координаты не изменились
- CSS, HTML, навигация, модалка
- Молнии и их glow/тендрилы

---

## Порядок реализации

1. Добавить константы `ICON_*`
2. Добавить `ICON_PATHS[]` с 6 Path2D иконками
3. Модифицировать `Particle.reset()` — размер, прозрачность, цвет, иконка, вращение
4. Добавить `this.rotation += this.rotSpeed` в `Particle.update()`
5. Переписать `Particle.draw()` — ореол + stroke(Path2D)
6. Обновить `initParticles()` — делитель и потолок

---

## Проверка (через Chrome MCP)

1. Открыть сайт → увидеть иконки вместо точек
2. ✅ Различимы 6 типов иконок (документ, шестерёнка, код, лампочка, графики, лупа)
3. ✅ Три цвета: синие, фиолетовые, золотые (редкие)
4. ✅ Пульсация работает (размер иконок плавно меняется)
5. ✅ Медленное вращение заметно при наблюдении ~10 сек
6. ✅ Молнии по-прежнему появляются между частицами
7. ✅ Мышь отталкивает иконки
8. ✅ Иконки не перетягивают внимание (достаточно прозрачные)
9. ✅ Ноль ошибок в консоли
10. ✅ FPS стабильно 58-60
